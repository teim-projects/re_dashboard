{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!-- Add inside <head> of basewind.html -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="icon" type="image/png" href="{% static 'images/TeimLogo.png' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <title>{% block title %}Renewable Energy Dashboard{% endblock %}</title>

  <style>
    body {
      background-color: #f6f9fc;
    }

    .sidebar-toggle {
      display: none;
      position: fixed;
      top: 15px;
      left: 15px;
      z-index: 1100;
      background-color: #2196f3;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
    }

    @media (max-width: 768px) {
      .sidebar-toggle {
        display: block;
      }

      .fixed-panel {
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        z-index: 1050;
      }

      .fixed-panel.active {
        transform: translateX(0);
      }

      body.sidebar-open::before {
        content: "";
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1040;
      }
    }


    
    .fixed-panel {
      background-color: #000000;
      color: white;
      height: 100vh;
      padding: 20px 10px;
      overflow-y: auto;
    }

.fixed-panel .nav-link {
  color: white;
  background-color: #000000;
  margin-bottom: 10px;
  text-align: center;
  border-radius: 10px;
  font-weight: bold;
  padding: 10px;
  margin-top: 10px;

  /* ðŸ”½ ADD THIS FOR BOX SHADOW */
  box-shadow: 0 5px 6px rgba(255, 255, 255, 0.3);
  transition: box-shadow 0.2s ease;
}

.fixed-panel .nav-link:hover {
  box-shadow: 0 6px 10px rgba(255, 254, 254, 0.5);
}


    .fixed-panel .nav-link.active {
      background-color: #2196f3;
      color: white !important;
        box-shadow: 0 6px 10px rgba(255, 254, 254, 0.5);

    }

    .content-wrapper {
      padding: 40px 30px;
    }



    
  </style>

  {% block style_css %}{% endblock %}
</head>
<body style="overflow-x: hidden;">
 {% block sidebar %}
    {% include 'sidebarsolar.html' %} 
  {% endblock sidebar %}
  
  <!-- Toggle button for small devices -->
  <button class="sidebar-toggle mt-5" id="toggleSidebar">
    <span>
          <i class="fa fa-bars"  ></i> Menu

    </span>
  </button>

  <!-- Main layout -->
  <div class="container-fluid ">
    <div class="row">

      <!-- Sidebar -->
      <div class="col-md-3 p-0">
        <div class="fixed-panel" id="dashboardPanel" style="min-height: 100vh;">
          {% block fixedcontent %}
            <h4 class="text-white mb-4 text-center mt-5 shadow mb-3" style="padding-top: 40px !important;"><i class="fa-solid fa-desktop"></i> Dashboard</h4>
            <nav class="nav flex-column"  style="align-items: center; " >
              <a class="nav-link navcontent {% if request.path == '/dashboard/' or request.path == '/' %}active{% endif %}" href="{% url 'dashboard' %}">Solar Dashboard</a>
              <a class="nav-link navcontent {% if request.path == '/installation-summary-1/' %}active{% endif %}" href="{% url 'solar_summary1' %}">INSTALLATION SUMMARY 1</a>
              <a class="nav-link navcontent {% if request.path == '/installation-summary-2/' %}active{% endif %}" href="#">INSTALLATION SUMMARY 2</a>
              <a class="nav-link navcontent {% if request.path == '/generation-kwh/' %}active{% endif %}" href="#">GENERATION KWH</a>
              <a class="nav-link navcontent {% if request.path == '/generation-hours/' %}active{% endif %}" href="#">GENERATION HOURS</a>
              <a class="nav-link navcontent {% if request.path == '/avg-generation/' %}active{% endif %}" href="#">AVERAGE GENERATION</a>
            </nav>
          {% endblock %}
        </div>
      </div>

      <!-- Main content -->
      <div class="col-md-9 content-wrapper" style="padding: 0px;">
        {% block content %}{% endblock %}
      </div>

    </div>
  </div>

  <!-- Scripts -->
  {% block scripts %}
  <script>
    const toggleBtn = document.getElementById("toggleSidebar");
    const panel = document.getElementById("dashboardPanel");

    toggleBtn.addEventListener("click", () => {
      panel.classList.toggle("active");
      document.body.classList.toggle("sidebar-open");
    });

    document.body.addEventListener("click", (e) => {
      if (document.body.classList.contains("sidebar-open") &&
          !panel.contains(e.target) &&
          !toggleBtn.contains(e.target)) {
        panel.classList.remove("active");
        document.body.classList.remove("sidebar-open");
      }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  {% endblock %}
</body>
</html>
